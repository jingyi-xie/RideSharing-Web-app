{% extends 'rideshare/base.html' %}

{% block title %}Available rides{% endblock %}

<!-- <form method='GET' , action=''>
    <input type='text' , name='query' , placeholder='Search rides' , value='{{request.get.query}}' />
    <input type='submit' , value='Search' />
</form> -->
{% block content %}

<h3>Filter Rides</h3>
<form method="GET" action=".">

    <input type="search", name="dest", placeholder="Destination" />
    <input type="number", name="num_passenger", placeholder="Number of passengers" />
 
    <div>
        <div>
            <label for="arrival_early">Earliest Arrival</label>
            <input type="date", id="arrival_early", name="early">
        </div>
        <div>
            <label for="arrival_late">Latest Arrival</label>
            <input type="date", id="arrival_late", name="late">
        </div>
    </div>
 
    <button type="submit">Search</button>
</form>

<hr />

<div>
    <ul>
        {% for ride in queryset %}
        {% if ride.status == 'open' %}
        <h3>Destination {{ ride.dest }}</h3>
        <h3>Requested arrival time is {{ ride.arrival}}<h3>
        <h3>Ride Owner: {{ ride.owner }}<h3>
        <a href="{% url 'rideshare:ridejoin' ride.id %}">Join</a>
        <br><hr>
        {% endif %}
        {% endfor %}
    </ul>
</div>
{% endblock %}